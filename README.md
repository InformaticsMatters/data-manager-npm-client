# Client generator for the Squonk Data Manager API

This repo is a NodeJS package that generates a typescript client from an open api specification.

- Consumes the Squonk Data Manager API
- Generated by [Orval](https://orval.dev)
- Typescript
- Calls made by Axios (this might change)
- Functions to call each API path
- React-Query hooks for use in React applications
- Built with [tsup](https://tsup.egoist.sh/)

## Build

Developed on `Node 16` and `npm 7`


1. Install dependencies with `npm i`
2. Copy a version of the data-manager-api open-api YAML file in to the repo root
3. Generate the client with `npm run build`
4. This can then be deployed with `npm run release`


## Commands

- `npm run orval` will generate the client with Orval
- `npm run build` will generate the client and then bundle it and create a version that can be deployed to npm
- `npm run watch` will watch for changes in the repo and rebundle when changes re detected. It does not regenerate the client automatically.
- `npm run release` will run `release-it` to deploy a package to npm
